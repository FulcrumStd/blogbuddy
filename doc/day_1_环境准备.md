# 1. yo code åˆå§‹åŒ–é¡¹ç›®: é€‰æ‹© bundler
```
åˆå§‹åŒ–é¡¹ç›®é€‰æ‹©bundlerï¼Œåº”è¯¥é€‰æ‹©å“ªä¸ª
Which bundler to use? (Use arrow keys)
â¯ unbundled 
  webpack 
  esbuild
```
å¯¹äºä½ çš„ BlogBuddy é¡¹ç›®ï¼Œæˆ‘æ¨èé€‰æ‹© **esbuild**ï¼

## ğŸ¯ æ¨èç†ç”±

**esbuild** æ˜¯æœ€ä½³é€‰æ‹©ï¼Œå› ä¸ºï¼š

### âš¡ æ€§èƒ½ä¼˜åŠ¿
- **è¶…å¿«æ„å»ºé€Ÿåº¦** - æ¯” webpack å¿« 10-100 å€
- **å¿«é€Ÿå¼€å‘ä½“éªŒ** - ä¿®æ”¹ä»£ç åå‡ ä¹ç¬é—´é‡æ–°æ„å»º
- **å°ä½“ç§¯äº§ç‰©** - æ‰“åŒ…åçš„æ’ä»¶æ–‡ä»¶æ›´å°

### ğŸ› ï¸ å¼€å‘å‹å¥½
- **é…ç½®ç®€å•** - å¼€ç®±å³ç”¨ï¼Œæ— éœ€å¤æ‚é…ç½®
- **TypeScript åŸç”Ÿæ”¯æŒ** - å®Œç¾é€‚é…ä½ çš„é¡¹ç›®
- **ç°ä»£åŒ–å·¥å…·** - VS Code å®˜æ–¹æ¨èçš„ç°ä»£æ„å»ºå·¥å…·

### ğŸ“¦ é€‚åˆæ’ä»¶å¼€å‘
- **å•æ–‡ä»¶è¾“å‡º** - æ’ä»¶é€šå¸¸åªéœ€è¦ä¸€ä¸ªå…¥å£æ–‡ä»¶
- **ä¾èµ–å¤„ç†å¥½** - è‡ªåŠ¨å¤„ç†å¤–éƒ¨ä¾èµ–
- **è°ƒè¯•å‹å¥½** - ç”Ÿæˆçš„ source map è´¨é‡é«˜

## ğŸ”„ å„é€‰é¡¹å¯¹æ¯”

| é€‰é¡¹ | æ„å»ºé€Ÿåº¦ | é…ç½®å¤æ‚åº¦ | æ¨èåº¦ |
|------|---------|-----------|--------|
| **esbuild** | âš¡âš¡âš¡ | ğŸŸ¢ ç®€å• | â­â­â­ |
| webpack | âš¡ | ğŸŸ¡ ä¸­ç­‰ | â­â­ |
| unbundled | âš¡âš¡ | ğŸŸ¢ æœ€ç®€ | â­ |

## ğŸ’¡ ä¸ºä»€ä¹ˆä¸é€‰å…¶ä»–ï¼Ÿ

- **unbundled**: è™½ç„¶ç®€å•ï¼Œä½†æœ€ç»ˆå‘å¸ƒæ—¶è¿˜æ˜¯éœ€è¦æ‰“åŒ…
- **webpack**: åŠŸèƒ½å¼ºå¤§ä½†é…ç½®å¤æ‚ï¼Œå¯¹ä½ çš„é¡¹ç›®æ¥è¯´è¿‡äºé‡é‡çº§

é€‰æ‹© **esbuild**ï¼Œä½ ä¼šåœ¨æ•´ä¸ªå¼€å‘è¿‡ç¨‹ä¸­äº«å—åˆ°å¿«é€Ÿçš„æ„å»ºä½“éªŒï¼ğŸš€

# 2. yo code åˆå§‹åŒ–é¡¹ç›®: é€‰æ‹© package manager
```
ç„¶åæ˜¯é€‰æ‹©package manager æœ‰ä»€ä¹ˆæ¨èçš„å—ï¼Ÿ
Which package manager to use? (Use arrow keys)
â¯ npm 
  yarn 
  pnpm

```
å¯¹äºä½ çš„ BlogBuddy é¡¹ç›®ï¼Œæˆ‘æ¨èé€‰æ‹© **npm**ï¼

## ğŸ¯ æ¨èç†ç”±

**npm** æ˜¯æœ€ä½³é€‰æ‹©ï¼Œå› ä¸ºï¼š

### ğŸ“¦ VS Code æ’ä»¶å¼€å‘çš„æ ‡å‡†
- **å®˜æ–¹æ”¯æŒ** - VS Code å®˜æ–¹æ–‡æ¡£å’Œç¤ºä¾‹éƒ½ä½¿ç”¨ npm
- **vsce å·¥å…·å…¼å®¹** - æ’ä»¶æ‰“åŒ…å·¥å…· `vsce` é»˜è®¤æ”¯æŒ npm
- **ç¤¾åŒºæ ‡å‡†** - å¤§éƒ¨åˆ† VS Code æ’ä»¶éƒ½ä½¿ç”¨ npm

### ğŸ”§ å­¦ä¹ å‹å¥½
- **æ–‡æ¡£ä¸°å¯Œ** - é‡åˆ°é—®é¢˜æœ€å®¹æ˜“æ‰¾åˆ°è§£å†³æ–¹æ¡ˆ
- **é…ç½®ç®€å•** - æ— éœ€é¢å¤–å­¦ä¹ åŒ…ç®¡ç†å™¨ç‰¹æ€§
- **å…¼å®¹æ€§å¥½** - æ‰€æœ‰ Node.js é¡¹ç›®éƒ½æ”¯æŒ

### ğŸš€ å®ç”¨è€ƒè™‘
- **å†…ç½®å·¥å…·** - Node.js è‡ªå¸¦ï¼Œæ— éœ€é¢å¤–å®‰è£…
- **CI/CD å‹å¥½** - GitHub Actions ç­‰é»˜è®¤æ”¯æŒ npm
- **å‘å¸ƒä¾¿æ·** - æ’ä»¶å¸‚åœºå‘å¸ƒæµç¨‹é’ˆå¯¹ npm ä¼˜åŒ–

## ğŸ“Š å¯¹æ¯”åˆ†æ

| åŒ…ç®¡ç†å™¨ | å­¦ä¹ æ›²çº¿ | VS Codeæ’ä»¶å…¼å®¹æ€§ | æ¨èåº¦ |
|---------|---------|------------------|--------|
| **npm** | ğŸŸ¢ ç®€å• | â­â­â­ å®Œç¾ | â­â­â­ |
| yarn | ğŸŸ¡ ä¸­ç­‰ | â­â­ è‰¯å¥½ | â­â­ |
| pnpm | ğŸŸ¡ ä¸­ç­‰ | â­â­ è‰¯å¥½ | â­â­ |

## ğŸ’¡ ä¸ºä»€ä¹ˆä¸é€‰å…¶ä»–ï¼Ÿ

- **yarn**: è™½ç„¶é€Ÿåº¦å¿«ï¼Œä½†ä¼šå¢åŠ å­¦ä¹ æˆæœ¬ï¼Œå¯¹æ–°æ‰‹ä¸å¤Ÿå‹å¥½
- **pnpm**: èŠ‚çœç£ç›˜ç©ºé—´å¾ˆæ£’ï¼Œä½†å¯èƒ½åœ¨æŸäº› VS Code å·¥å…·é“¾ä¸­é‡åˆ°å…¼å®¹é—®é¢˜

## ğŸ¯ æœ€ç»ˆå»ºè®®

é€‰æ‹© **npm**ï¼Œè®©ä½ ä¸“æ³¨äºå­¦ä¹  VS Code æ’ä»¶å¼€å‘æœ¬èº«ï¼Œè€Œä¸æ˜¯çº ç»“äºåŒ…ç®¡ç†å™¨çš„å·®å¼‚ã€‚ç­‰ä½ ç†Ÿç»ƒåï¼Œéšæ—¶å¯ä»¥è¿ç§»åˆ°å…¶ä»–åŒ…ç®¡ç†å™¨ï¼

é€‰æ‹© npmï¼Œå¼€å§‹ä½ çš„ BlogBuddy å¼€å‘ä¹‹æ—…å§ï¼ğŸš€

# 3. ç†Ÿæ‚‰é¡¹ç›®ç»“æ„: package.json
å¾ˆå¥½çš„é—®é¢˜ï¼è®©æˆ‘ä¸ºä½ è¯¦ç»†è§£è¯»è¿™ä¸ª `package.json` æ–‡ä»¶ã€‚

## ğŸ¯ è¿™ä¸ªæ–‡ä»¶æ˜¯ä»€ä¹ˆï¼Ÿ

è¿™ä¸ª `package.json` æ–‡ä»¶**åŒæ—¶å…·æœ‰å¤šé‡èº«ä»½**ï¼š

### 1. **Node.js é¡¹ç›®æ¸…å•** ğŸ“¦
- å®šä¹‰é¡¹ç›®åŸºæœ¬ä¿¡æ¯ï¼ˆåç§°ã€ç‰ˆæœ¬ã€æè¿°ï¼‰
- ç®¡ç†ä¾èµ–åŒ…å’Œæ„å»ºè„šæœ¬
- è¿™æ˜¯æ‰€æœ‰ Node.js é¡¹ç›®çš„æ ‡å‡†é…ç½®æ–‡ä»¶

### 2. **VS Code æ’ä»¶æ¸…å•** ğŸ”Œ
- **æœ€é‡è¦çš„èº«ä»½ï¼** å‘Šè¯‰ VS Code è¿™æ˜¯ä¸€ä¸ªæ’ä»¶
- å®šä¹‰æ’ä»¶èƒ½åšä»€ä¹ˆã€å¦‚ä½•æ¿€æ´»ã€æä¾›å“ªäº›åŠŸèƒ½
- VS Code è¯»å–è¿™ä¸ªæ–‡ä»¶æ¥ç†è§£ä½ çš„æ’ä»¶

### 3. **TypeScript é¡¹ç›®é…ç½®çš„ä¸€éƒ¨åˆ†** ğŸ“
- é…åˆ `tsconfig.json` å®šä¹‰ TypeScript æ„å»ºæµç¨‹
- é€šè¿‡ scripts å®šä¹‰ç¼–è¯‘å’Œæ‰“åŒ…å‘½ä»¤

## ğŸ“‹ é€æ®µè¯¦ç»†è§£è¯»

### ğŸ·ï¸ åŸºæœ¬ä¿¡æ¯æ®µ
```json
{
  "name": "blogbuddy",              // æ’ä»¶çš„å†…éƒ¨ IDï¼ˆå‘å¸ƒæ—¶çš„å”¯ä¸€æ ‡è¯†ï¼‰
  "displayName": "blogbuddy",       // VS Code ä¸­æ˜¾ç¤ºçš„åç§°
  "description": "...",             // æ’ä»¶æè¿°ï¼ˆä¼šæ˜¾ç¤ºåœ¨æ’ä»¶å¸‚åœºï¼‰
  "version": "0.0.1",               // ç‰ˆæœ¬å·ï¼ˆéµå¾ªè¯­ä¹‰åŒ–ç‰ˆæœ¬ï¼‰
  "categories": ["Other"]           // æ’ä»¶åˆ†ç±»ï¼ˆå¯ä»¥æ”¹ä¸º "Writing" æ›´åˆé€‚ï¼‰
}
```

### âš™ï¸ VS Code ç‰¹å®šé…ç½®æ®µ
```json
{
  "engines": {
    "vscode": "^1.102.0"           // è¦æ±‚ VS Code ç‰ˆæœ¬ â‰¥ 1.102.0
  },
  "activationEvents": [],          // æ’ä»¶æ¿€æ´»æ¡ä»¶ï¼ˆç©ºæ•°ç»„=æŒ‰éœ€æ¿€æ´»ï¼‰
  "main": "./dist/extension.js",   // æ’ä»¶å…¥å£æ–‡ä»¶ï¼ˆç¼–è¯‘åçš„ï¼‰
  "contributes": {                 // ğŸ”¥ æ ¸å¿ƒï¼æ’ä»¶è´¡çŒ®çš„åŠŸèƒ½
    "commands": [                  // å®šä¹‰å‘½ä»¤
      {
        "command": "blogbuddy.helloWorld",  // å‘½ä»¤ ID
        "title": "Hello World"             // å‘½ä»¤æ˜¾ç¤ºåç§°
      }
    ]
  }
}
```

### ğŸ› ï¸ æ„å»ºè„šæœ¬æ®µ
```json
{
  "scripts": {
    "compile": "npm run check-types && npm run lint && node esbuild.js",
    "watch": "npm-run-all -p watch:*",     // å¹¶è¡Œè¿è¡Œæ‰€æœ‰ watch:* è„šæœ¬
    "package": "...",                      // æ‰“åŒ…ç”Ÿäº§ç‰ˆæœ¬
    "check-types": "tsc --noEmit",         // ç±»å‹æ£€æŸ¥ï¼ˆä¸ç”Ÿæˆæ–‡ä»¶ï¼‰
    "lint": "eslint src",                  // ä»£ç è´¨é‡æ£€æŸ¥
    "test": "vscode-test"                  // è¿è¡Œæµ‹è¯•
  }
}
```

### ğŸ“¦ å¼€å‘ä¾èµ–æ®µ
```json
{
  "devDependencies": {
    "@types/vscode": "^1.102.0",          // VS Code API ç±»å‹å®šä¹‰
    "@types/node": "20.x",                // Node.js ç±»å‹å®šä¹‰
    "@typescript-eslint/*": "...",        // TypeScript ä»£ç æ£€æŸ¥
    "esbuild": "^0.25.3",                 // å¿«é€Ÿæ„å»ºå·¥å…·
    "typescript": "^5.8.3",               // TypeScript ç¼–è¯‘å™¨
    "@vscode/test-*": "..."               // VS Code æ’ä»¶æµ‹è¯•å·¥å…·
  }
}
```

## ğŸ¯ æ€»ç»“

è¿™ä¸ªæ–‡ä»¶**ä¸»è¦æ˜¯ VS Code æ’ä»¶çš„é…ç½®æ–‡ä»¶**ï¼Œä½†å®ƒæ„å»ºåœ¨ Node.js å’Œ TypeScript çš„åŸºç¡€ä¹‹ä¸Šï¼š

```
VS Code æ’ä»¶é…ç½® (ä¸»è¦èº«ä»½)
    â†“ åŸºäº
Node.js é¡¹ç›®ç®¡ç†
    â†“ ä½¿ç”¨
TypeScript å¼€å‘
    â†“ é€šè¿‡
esbuild æ„å»º
```

**æ ¸å¿ƒç†è§£**ï¼šVS Code æ’ä»¶æœ¬è´¨ä¸Šå°±æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„ Node.js é¡¹ç›®ï¼Œé€šè¿‡ `package.json` çš„ `contributes` å­—æ®µå‘Šè¯‰ VS Code å®ƒèƒ½æä¾›ä»€ä¹ˆåŠŸèƒ½ï¼


# 4. ç†Ÿæ‚‰é¡¹ç›®ç»“æ„ï¼štsconfig.json

## ğŸ¯ è¿™ä¸ªæ–‡ä»¶æ˜¯åšä»€ä¹ˆçš„ï¼Ÿ

`tsconfig.json` æ˜¯ **TypeScript ç¼–è¯‘å™¨çš„é…ç½®æ–‡ä»¶**ï¼Œå®ƒå‘Šè¯‰ TypeScriptï¼š

1. **å¦‚ä½•ç¼–è¯‘ä½ çš„ä»£ç ** - ä» TypeScript è½¬æ¢ä¸º JavaScript
2. **ç¼–è¯‘çš„è§„åˆ™å’Œæ ‡å‡†** - ä¸¥æ ¼ç¨‹åº¦ã€ç›®æ ‡ç‰ˆæœ¬ç­‰
3. **æ–‡ä»¶çš„å¤„ç†æ–¹å¼** - å“ªäº›æ–‡ä»¶è¦ç¼–è¯‘ã€è¾“å‡ºåˆ°å“ªé‡Œ

## ğŸ“‹ é€é¡¹è¯¦ç»†è§£è¯»

### ğŸ”§ ç¼–è¯‘ç›®æ ‡é…ç½®
```json
{
  "module": "Node16",          // ğŸ”¥ æ¨¡å—ç³»ç»Ÿï¼šä½¿ç”¨ Node.js 16+ çš„æ¨¡å—è§„èŒƒ
  "target": "ES2022",          // ğŸ”¥ ç¼–è¯‘ç›®æ ‡ï¼šç”Ÿæˆ ES2022 æ ‡å‡†çš„ JavaScript
  "lib": ["ES2022"]            // ğŸ”¥ å¯ç”¨çš„åº“ï¼šå…è®¸ä½¿ç”¨ ES2022 çš„æ‰€æœ‰ç‰¹æ€§
}
```

**è§£é‡Šï¼š**
- **Node16**ï¼šæ”¯æŒ CommonJS å’Œ ES Modulesï¼Œé€‚åˆç°ä»£ Node.js ç¯å¢ƒ
- **ES2022**ï¼šæ”¯æŒæœ€æ–°çš„ JavaScript ç‰¹æ€§ï¼ˆå¯é€‰é“¾ã€ç©ºå€¼åˆå¹¶ç­‰ï¼‰
- è¿™ä¸ªé…ç½®å¾ˆç°ä»£åŒ–ï¼Œå……åˆ†åˆ©ç”¨äº†æ–°ç‰¹æ€§ï¼

### ğŸ—‚ï¸ æ–‡ä»¶å¤„ç†é…ç½®
```json
{
  "sourceMap": true,           // ğŸ”¥ ç”Ÿæˆæºç æ˜ å°„æ–‡ä»¶ï¼ˆ.mapï¼‰
  "rootDir": "src"             // ğŸ”¥ æºä»£ç æ ¹ç›®å½•
}
```

**è§£é‡Šï¼š**
- **sourceMap**: è°ƒè¯•æ—¶èƒ½çœ‹åˆ°åŸå§‹ TypeScript ä»£ç ï¼Œè€Œä¸æ˜¯ç¼–è¯‘åçš„ JavaScript
- **rootDir**: å‘Šè¯‰ç¼–è¯‘å™¨ä» `src/` ç›®å½•å¼€å§‹ç¼–è¯‘

### ğŸ›¡ï¸ ç±»å‹æ£€æŸ¥é…ç½®
```json
{
  "strict": true               // ğŸ”¥ å¯ç”¨æ‰€æœ‰ä¸¥æ ¼ç±»å‹æ£€æŸ¥
}
```

**`strict: true` åŒ…å«äº†ä»€ä¹ˆï¼Ÿ**
```typescript
// è¿™äº›æ£€æŸ¥éƒ½è¢«å¯ç”¨äº†ï¼š
"noImplicitAny": true,           // ç¦æ­¢éšå¼ any ç±»å‹
"strictNullChecks": true,        // ä¸¥æ ¼çš„ null/undefined æ£€æŸ¥
"strictFunctionTypes": true,     // ä¸¥æ ¼çš„å‡½æ•°ç±»å‹æ£€æŸ¥
"strictBindCallApply": true,     // ä¸¥æ ¼çš„ bind/call/apply æ£€æŸ¥
"strictPropertyInitialization": true,  // ç±»å±æ€§å¿…é¡»åˆå§‹åŒ–
"noImplicitThis": true,          // ç¦æ­¢éšå¼ this
"alwaysStrict": true,           // æ€»æ˜¯ç”Ÿæˆ "use strict"
"noImplicitReturns": false,      // æ³¨é‡Šæ‰äº†ï¼Œå…è®¸éƒ¨åˆ†è¿”å›
```

### ğŸ’¡ æ³¨é‡Šæ‰çš„é€‰é¡¹
```json
// "noImplicitReturns": true,      // å‡½æ•°å¿…é¡»æ‰€æœ‰è·¯å¾„éƒ½æœ‰è¿”å›å€¼
// "noFallthroughCasesInSwitch": true,  // switch è¯­å¥ä¸èƒ½ç©¿é€
// "noUnusedParameters": true,     // ç¦æ­¢æœªä½¿ç”¨çš„å‚æ•°
```

**ä¸ºä»€ä¹ˆæ³¨é‡Šæ‰ï¼Ÿ**
- è¿™äº›è§„åˆ™æ¯”è¾ƒä¸¥æ ¼ï¼Œå¯èƒ½åœ¨å¼€å‘åˆæœŸé€ æˆå›°æ‰°
- ä½ å¯ä»¥åç»­æ ¹æ®éœ€è¦é€æ­¥å¯ç”¨

## ğŸ” è¿™ä¸ªé…ç½®çš„ç‰¹ç‚¹åˆ†æ

### âœ… ä¼˜ç‚¹
1. **ç°ä»£åŒ–é…ç½®** - ES2022 å’Œ Node16 éƒ½æ˜¯å¾ˆæ–°çš„æ ‡å‡†
2. **ä¸¥æ ¼ä½†ä¸è¿‡åˆ†** - `strict: true` ä¿è¯ä»£ç è´¨é‡ï¼Œä½†æ²¡æœ‰å¼€å¯æœ€ä¸¥æ ¼çš„é€‰é¡¹
3. **è°ƒè¯•å‹å¥½** - `sourceMap: true` è®©è°ƒè¯•æ›´å®¹æ˜“
4. **ç»“æ„æ¸…æ™°** - `rootDir` æ˜ç¡®äº†æºç ä½ç½®

### ğŸ¤” æ³¨æ„äº‹é¡¹
1. **ç¼ºå°‘è¾“å‡ºé…ç½®** - æ²¡æœ‰ `outDir`ï¼Œè¿™æ˜¯å› ä¸ºä½¿ç”¨äº† esbuild è€Œä¸æ˜¯ tsc ç¼–è¯‘
2. **ç¼ºå°‘åŒ…å«/æ’é™¤** - æ²¡æœ‰æŒ‡å®šå“ªäº›æ–‡ä»¶è¦ç¼–è¯‘

## ğŸ› ï¸ è¿™ä¸ªé…ç½®åœ¨ä½ çš„é¡¹ç›®ä¸­çš„ä½œç”¨

### ä¸å…¶ä»–æ–‡ä»¶çš„å…³ç³»
```
tsconfig.json (ç±»å‹æ£€æŸ¥è§„åˆ™)
    â†“ é…åˆ
package.json scripts (æ„å»ºæµç¨‹)
    â†“ ä½¿ç”¨
esbuild.js (å®é™…ç¼–è¯‘)
    â†“ è¾“å‡ºåˆ°
dist/extension.js (æœ€ç»ˆæ’ä»¶æ–‡ä»¶)
```

### å®é™…å·¥ä½œæµç¨‹
1. **å¼€å‘æ—¶**: VS Code ä½¿ç”¨è¿™ä¸ªé…ç½®æä¾›æ™ºèƒ½æç¤ºå’Œé”™è¯¯æ£€æŸ¥
2. **æ„å»ºæ—¶**: `npm run check-types` ä½¿ç”¨å®ƒè¿›è¡Œç±»å‹æ£€æŸ¥
3. **è°ƒè¯•æ—¶**: `sourceMap` è®©ä½ èƒ½è°ƒè¯•åŸå§‹çš„ TypeScript ä»£ç 

## ğŸ¯ æ€»ç»“

è¿™æ˜¯ä¸€ä¸ª**ç°ä»£åŒ–ã€å¹³è¡¡çš„ TypeScript é…ç½®**ï¼š

```
ç°ä»£æ ‡å‡† (ES2022/Node16) + ä¸¥æ ¼ç±»å‹æ£€æŸ¥ + è°ƒè¯•æ”¯æŒ = é«˜è´¨é‡å¼€å‘ä½“éªŒ
```

**æ ¸å¿ƒç†å¿µ**ï¼š
- ä½¿ç”¨æœ€æ–°çš„ JavaScript ç‰¹æ€§
- é€šè¿‡ä¸¥æ ¼æ£€æŸ¥é¿å…å¸¸è§é”™è¯¯  
- ä¿æŒè¶³å¤Ÿçš„çµæ´»æ€§ä¸å½±å“å¼€å‘æ•ˆç‡

è¿™ä¸ªé…ç½®å¾ˆé€‚åˆä½ çš„ BlogBuddy é¡¹ç›®ï¼Œæ—¢ä¿è¯äº†ä»£ç è´¨é‡ï¼Œåˆä¸ä¼šè¿‡äºä¸¥æ ¼å½±å“å¼€å‘è¿›åº¦ï¼

æœ‰ä»€ä¹ˆå…·ä½“çš„é…ç½®é¡¹æƒ³äº†è§£æ›´å¤šå—ï¼ŸğŸš€

# 5. ç†Ÿæ‚‰é¡¹ç›®ç»“æ„ï¼šextension.ts
å¾ˆå¥½çš„é—®é¢˜ï¼è®©æˆ‘è¯¦ç»†è§£è¯»è¿™ä¸ªæ–‡ä»¶å¹¶å›ç­”ä½ çš„ç–‘é—®ã€‚

## ğŸ“– æ–‡ä»¶æ•´ä½“è§£è¯»

è¿™ä¸ª `extension.ts` æ˜¯ä½ çš„ VS Code æ’ä»¶çš„**æ ¸å¿ƒæ§åˆ¶ä¸­å¿ƒ**ï¼Œè´Ÿè´£ï¼š
1. **æ’ä»¶çš„ç”Ÿå‘½å‘¨æœŸç®¡ç†**ï¼ˆæ¿€æ´»/åœç”¨ï¼‰
2. **å‘½ä»¤çš„æ³¨å†Œå’Œå®ç°**
3. **èµ„æºçš„ç®¡ç†å’Œæ¸…ç†**

### ğŸ”„ ä»£ç æµç¨‹åˆ†æ
```typescript
import * as vscode from 'vscode';  // å¯¼å…¥ VS Code API

// ğŸš€ æ’ä»¶æ¿€æ´»æ—¶è°ƒç”¨
export function activate(context: vscode.ExtensionContext) {
    console.log('æ’ä»¶å·²æ¿€æ´»ï¼');
    
    // ğŸ“ æ³¨å†Œå‘½ä»¤ï¼šå°† package.json ä¸­å£°æ˜çš„å‘½ä»¤ä¸å®é™…å‡½æ•°ç»‘å®š
    const disposable = vscode.commands.registerCommand('blogbuddy.helloWorld', () => {
        vscode.window.showInformationMessage('Hello World from blogbuddy!');
    });
    
    // ğŸ—‘ï¸ å°†å‘½ä»¤æ³¨å†Œåˆ°ä¸Šä¸‹æ–‡ä¸­ï¼Œç¡®ä¿èƒ½æ­£ç¡®æ¸…ç†
    context.subscriptions.push(disposable);
}

// ğŸ›‘ æ’ä»¶åœç”¨æ—¶è°ƒç”¨
export function deactivate() {}
```

### é—®é¢˜1ï¼šå…¥å£æ–‡ä»¶æ˜¯å¦‚ä½•è§„å®šçš„ï¼Ÿå¯ä»¥æœ‰å¤šä¸ªå—ï¼Ÿ

**ç­”æ¡ˆï¼šåœ¨ `package.json` ä¸­è§„å®šçš„ï¼**

```json
{
  "main": "./dist/extension.js"  // ğŸ‘ˆ è¿™é‡ŒæŒ‡å®šäº†å…¥å£æ–‡ä»¶
}
```

**è¯¦ç»†è¯´æ˜ï¼š**
- VS Code è¯»å– `package.json` çš„ `main` å­—æ®µæ¥æ‰¾åˆ°å…¥å£æ–‡ä»¶
- `extension.ts` ç¼–è¯‘åå˜æˆ `dist/extension.js`ï¼Œè¿™å°±æ˜¯çœŸæ­£çš„å…¥å£
- **åªèƒ½æœ‰ä¸€ä¸ªå…¥å£æ–‡ä»¶**ï¼Œä½†è¿™ä¸ªå…¥å£æ–‡ä»¶å¯ä»¥å¯¼å…¥å…¶ä»–æ¨¡å—

**å¦‚æœä½ æƒ³è¦æ¨¡å—åŒ–å¼€å‘ï¼š**
```typescript
// extension.ts (å”¯ä¸€å…¥å£)
import * as vscode from 'vscode';
import { registerTextCommands } from './commands/textCommands';
import { registerAICommands } from './commands/aiCommands';

export function activate(context: vscode.ExtensionContext) {
    // ä»å…¶ä»–æ–‡ä»¶å¯¼å…¥åŠŸèƒ½
    registerTextCommands(context);
    registerAICommands(context);
}
```

### é—®é¢˜2ï¼š`disposable` å’Œ `context.subscriptions` çš„å«ä¹‰

è¿™æ˜¯ä¸€ä¸ª**èµ„æºç®¡ç†æœºåˆ¶**ï¼è®©æˆ‘è¯¦ç»†è§£é‡Šï¼š

#### ğŸ”§ `disposable` æ˜¯ä»€ä¹ˆï¼Ÿ
```typescript
const disposable = vscode.commands.registerCommand('blogbuddy.helloWorld', () => {
    vscode.window.showInformationMessage('Hello World from blogbuddy!');
});
```

**`disposable` æ˜¯ä¸€ä¸ª"æ¸…ç†å™¨"å¯¹è±¡ï¼ŒåŒ…å«ï¼š**
- å–æ¶ˆå‘½ä»¤æ³¨å†Œçš„æ–¹æ³•
- é‡Šæ”¾ç›¸å…³èµ„æºçš„é€»è¾‘
- é˜²æ­¢å†…å­˜æ³„æ¼çš„æœºåˆ¶

#### ğŸ—‘ï¸ `context.subscriptions` æ˜¯ä»€ä¹ˆï¼Ÿ
```typescript
context.subscriptions.push(disposable);
```

**`context.subscriptions` æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œå­˜å‚¨æ‰€æœ‰éœ€è¦æ¸…ç†çš„èµ„æºï¼š**
- å½“æ’ä»¶åœç”¨æ—¶ï¼ŒVS Code ä¼šè‡ªåŠ¨è°ƒç”¨æ•°ç»„ä¸­æ¯ä¸ª `disposable` çš„æ¸…ç†æ–¹æ³•
- è¿™ç¡®ä¿äº†èµ„æºèƒ½è¢«æ­£ç¡®é‡Šæ”¾ï¼Œé¿å…å†…å­˜æ³„æ¼

#### ğŸ¯ å®Œæ•´çš„ç”Ÿå‘½å‘¨æœŸç¤ºä¾‹
```typescript
export function activate(context: vscode.ExtensionContext) {
    // æ³¨å†Œå¤šä¸ªå‘½ä»¤
    const cmd1 = vscode.commands.registerCommand('blogbuddy.expand', () => {});
    const cmd2 = vscode.commands.registerCommand('blogbuddy.translate', () => {});
    
    // æ³¨å†Œäº‹ä»¶ç›‘å¬å™¨
    const listener = vscode.workspace.onDidChangeTextDocument(() => {});
    
    // å°†æ‰€æœ‰èµ„æºæ·»åŠ åˆ°è®¢é˜…åˆ—è¡¨
    context.subscriptions.push(cmd1, cmd2, listener);
    
    // å½“æ’ä»¶åœç”¨æ—¶ï¼ŒVS Code ä¼šè‡ªåŠ¨ï¼š
    // 1. å–æ¶ˆæ‰€æœ‰å‘½ä»¤æ³¨å†Œ
    // 2. ç§»é™¤æ‰€æœ‰äº‹ä»¶ç›‘å¬å™¨
    // 3. é‡Šæ”¾æ‰€æœ‰ç›¸å…³èµ„æº
}
```

## ğŸ” æ·±å…¥ç†è§£ï¼šä¸ºä»€ä¹ˆéœ€è¦è¿™ç§æœºåˆ¶ï¼Ÿ

### ğŸš¨ æ²¡æœ‰æ­£ç¡®ç®¡ç†èµ„æºä¼šæ€æ ·ï¼Ÿ
```typescript
// âŒ é”™è¯¯åšæ³•
export function activate(context: vscode.ExtensionContext) {
    vscode.commands.registerCommand('blogbuddy.helloWorld', () => {});
    // æ²¡æœ‰ä¿å­˜ disposableï¼Œæ— æ³•æ¸…ç†ï¼
}

// ç»“æœï¼š
// 1. æ’ä»¶åœç”¨åå‘½ä»¤ä»ç„¶å­˜åœ¨
// 2. é‡æ–°æ¿€æ´»æ—¶å¯èƒ½æ³¨å†Œé‡å¤å‘½ä»¤
// 3. å†…å­˜æ³„æ¼
```

### âœ… æ­£ç¡®çš„åšæ³•
```typescript
// âœ… æ­£ç¡®åšæ³•
export function activate(context: vscode.ExtensionContext) {
    const disposable = vscode.commands.registerCommand('blogbuddy.helloWorld', () => {});
    context.subscriptions.push(disposable);
    // VS Code ä¼šåœ¨åˆé€‚çš„æ—¶å€™è‡ªåŠ¨æ¸…ç†
}
```

## ğŸ› ï¸ å®é™…åº”ç”¨åœºæ™¯

å½“ä½ å¼€å‘ BlogBuddy æ—¶ï¼Œä¼šæœ‰å¾ˆå¤šéœ€è¦æ¸…ç†çš„èµ„æºï¼š

```typescript
export function activate(context: vscode.ExtensionContext) {
    // å‘½ä»¤æ³¨å†Œ
    const expandCmd = vscode.commands.registerCommand('blogbuddy.expand', expandText);
    const translateCmd = vscode.commands.registerCommand('blogbuddy.translate', translateText);
    
    // äº‹ä»¶ç›‘å¬å™¨
    const saveListener = vscode.workspace.onDidSaveTextDocument(onDocumentSave);
    const changeListener = vscode.window.onDidChangeActiveTextEditor(onEditorChange);
    
    // çŠ¶æ€æ é¡¹ç›®
    const statusBar = vscode.window.createStatusBarItem(vscode.StatusBarAlignment.Right);
    
    // å…¨éƒ¨æ·»åŠ åˆ°è®¢é˜…åˆ—è¡¨
    context.subscriptions.push(
        expandCmd,
        translateCmd, 
        saveListener,
        changeListener,
        statusBar
    );
}
```

## ğŸ¯ å…³é”®è¦ç‚¹æ€»ç»“

1. **å…¥å£æ–‡ä»¶å”¯ä¸€æ€§**ï¼šåªèƒ½æœ‰ä¸€ä¸ªï¼Œç”± `package.json` çš„ `main` å­—æ®µæŒ‡å®š
2. **æ¨¡å—åŒ–å¼€å‘**ï¼šé€šè¿‡ import/export ç»„ç»‡ä»£ç ï¼Œä½†å…¥å£åªæœ‰ä¸€ä¸ª
3. **èµ„æºç®¡ç†**ï¼šæ‰€æœ‰æ³¨å†Œçš„å‘½ä»¤ã€ç›‘å¬å™¨ç­‰éƒ½è¦æ¨å…¥ `context.subscriptions`
4. **è‡ªåŠ¨æ¸…ç†**ï¼šVS Code ä¼šåœ¨æ’ä»¶åœç”¨æ—¶è‡ªåŠ¨æ¸…ç†è¿™äº›èµ„æº

è¿™ç§è®¾è®¡ä¿è¯äº†æ’ä»¶çš„**ç”Ÿå‘½å‘¨æœŸç®¡ç†**å’Œ**èµ„æºå®‰å…¨**ï¼Œæ˜¯ VS Code æ’ä»¶å¼€å‘çš„é‡è¦åŸºç¡€ï¼

æ˜ç™½äº†è¿™äº›æ¦‚å¿µï¼Œä½ å°±ç†è§£äº† VS Code æ’ä»¶çš„æ ¸å¿ƒå·¥ä½œæœºåˆ¶ ğŸš€


# 6. ç†Ÿæ‚‰è°ƒè¯•ï¼š F5 è°ƒè¯•æ—¶ esbuild æ— æ³•é€šè¿‡
